{
  "version": "1.0.0",
  "rules": [
    {
      "type": "FEATURE_IMPLEMENTATION",
      "keywords": ["추가", "만들어", "구현", "기능", "버튼", "페이지", "섹션", "컴포넌트"],
      "complexity_threshold": {
        "low": "1개 파일 수정",
        "medium": "2-3개 파일 수정",
        "high": "3개 이상 또는 아키텍처 변경"
      },
      "agents": {
        "low": [
          {
            "type": "general-purpose",
            "task": "단순 구현",
            "parallel": false
          }
        ],
        "medium": [
          {
            "type": "Explore",
            "task": "기존 패턴 탐색",
            "parallel": true
          },
          {
            "type": "general-purpose",
            "task": "구현 및 통합",
            "parallel": false
          }
        ],
        "high": [
          {
            "type": "Plan",
            "task": "아키텍처 설계 및 구현 계획",
            "parallel": true
          },
          {
            "type": "Explore",
            "task": "코드베이스 영향도 분석",
            "parallel": true
          },
          {
            "type": "general-purpose",
            "task": "구현",
            "parallel": false
          }
        ]
      },
      "auto_checks": [
        "Security: XSS, CSRF 방어",
        "Performance: 번들 사이즈 체크",
        "Accessibility: ARIA, 키보드",
        "Data: 스키마 일관성"
      ]
    },
    {
      "type": "DATA_OPERATION",
      "keywords": ["데이터", "레스토랑", "메뉴", "추가", "수정", "업데이트", "정보"],
      "agents": [
        {
          "type": "Explore",
          "task": "data.js 구조 및 현재 데이터 분석",
          "parallel": false
        },
        {
          "type": "general-purpose",
          "task": "데이터 수정 및 검증",
          "parallel": false
        }
      ],
      "auto_scripts": [
        "bash .claude/agents/data-engineer/data-validator.sh"
      ],
      "auto_checks": [
        "Data: 필수 필드 누락 없음",
        "Data: 중복 데이터 체크",
        "Data: 좌표 범위 검증"
      ]
    },
    {
      "type": "BUG_FIX",
      "keywords": ["버그", "에러", "오류", "안 돼", "작동 안 함", "안 보여", "깨져"],
      "agents": [
        {
          "type": "Explore",
          "task": "버그 재현 및 원인 분석",
          "thoroughness": "very thorough",
          "parallel": false
        },
        {
          "type": "general-purpose",
          "task": "버그 수정",
          "parallel": false
        },
        {
          "type": "Bash",
          "task": "테스트 실행 및 검증",
          "parallel": false
        }
      ],
      "auto_checks": [
        "Regression: 기존 기능 영향 없음",
        "Edge Cases: 엣지 케이스 커버"
      ]
    },
    {
      "type": "PERFORMANCE_OPTIMIZATION",
      "keywords": ["느려", "성능", "최적화", "빠르게", "속도", "로딩"],
      "agents": [
        {
          "type": "Explore",
          "task": "성능 병목 지점 분석",
          "parallel": true
        },
        {
          "type": "general-purpose",
          "task": "최적화 구현",
          "parallel": false
        }
      ],
      "auto_scripts": [
        "bash .claude/commands/performance.sh"
      ],
      "auto_checks": [
        "Performance: Lighthouse 점수 유지/개선",
        "Performance: 번들 사이즈 감소",
        "Performance: LCP, FID, CLS 개선"
      ]
    },
    {
      "type": "SECURITY_AUDIT",
      "keywords": ["보안", "취약점", "XSS", "SQL", "인증", "권한", "해킹"],
      "agents": [
        {
          "type": "general-purpose",
          "task": "전체 보안 감사",
          "parallel": false
        }
      ],
      "auto_scripts": [
        "bash .claude/commands/security-check.sh"
      ],
      "auto_checks": [
        "Security: XSS 방어 검증",
        "Security: SQL Injection 방어",
        "Security: API 키 노출 체크",
        "Security: RLS 정책 검증"
      ]
    },
    {
      "type": "CODE_REVIEW",
      "keywords": ["리뷰", "검토", "확인", "문제", "체크"],
      "agents": [
        {
          "type": "Explore",
          "task": "코드베이스 전체 탐색",
          "thoroughness": "medium",
          "parallel": true
        },
        {
          "type": "general-purpose",
          "task": "품질 분석 및 개선 제안",
          "parallel": false
        }
      ],
      "auto_checks": [
        "Code Quality: 중복 코드 체크",
        "Code Quality: 네이밍 컨벤션",
        "Code Quality: 주석 품질",
        "Best Practices: 패턴 준수"
      ]
    },
    {
      "type": "DEPLOYMENT",
      "keywords": ["배포", "deploy", "푸시", "릴리즈", "프로덕션"],
      "agents": [
        {
          "type": "general-purpose",
          "task": "Pre-deploy 체크리스트 실행",
          "parallel": false
        }
      ],
      "auto_scripts": [
        "bash .claude/agents/orchestrator.sh workflow pre-deploy",
        "bash .claude/commands/commit-push.sh"
      ],
      "auto_checks": [
        "All: 7가지 품질 게이트 통과",
        "Security: 취약점 0건",
        "Performance: Lighthouse 95+",
        "Data: 데이터 무결성 100%"
      ],
      "blocking_conditions": [
        "Critical Security 이슈",
        "Lighthouse < 80",
        "데이터 필수 필드 누락 > 10%"
      ]
    },
    {
      "type": "STYLE_UI",
      "keywords": ["스타일", "CSS", "디자인", "색상", "레이아웃", "반응형"],
      "agents": [
        {
          "type": "Explore",
          "task": "기존 디자인 시스템 분석",
          "parallel": false
        },
        {
          "type": "general-purpose",
          "task": "스타일 수정 및 적용",
          "parallel": false
        }
      ],
      "auto_checks": [
        "Design System: CSS 변수 활용",
        "Responsive: 모바일/데스크톱 대응",
        "Accessibility: 색상 대비 4.5:1",
        "Performance: CSS 파일 사이즈"
      ]
    },
    {
      "type": "DATABASE_API",
      "keywords": ["데이터베이스", "Supabase", "API", "쿼리", "테이블", "RLS"],
      "agents": [
        {
          "type": "general-purpose",
          "task": "데이터베이스 스키마 및 API 설계/수정",
          "parallel": false
        }
      ],
      "auto_checks": [
        "Database: 인덱스 최적화",
        "Database: RLS 정책 검증",
        "Security: SQL Injection 방어",
        "Performance: 쿼리 성능 분석"
      ]
    },
    {
      "type": "EXPLORATION",
      "keywords": ["어디", "찾아", "구조", "이해", "분석", "확인"],
      "agents": [
        {
          "type": "Explore",
          "task": "코드베이스 탐색 및 분석",
          "thoroughness": "very thorough",
          "parallel": false
        }
      ],
      "auto_checks": []
    }
  ],
  "default_checks": [
    "Security: 기본 보안 검증",
    "Performance: 기본 성능 체크",
    "Data: 데이터 무결성"
  ],
  "quality_thresholds": {
    "lighthouse_min": 95,
    "bundle_size_max_kb": 200,
    "security_vulnerabilities_max": 0,
    "data_completeness_min": 95
  }
}
